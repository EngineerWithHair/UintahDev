<?xml version="1.0" encoding="UTF-8" ?>
<?xml-stylesheet href="../faq.xsl" type="text/xsl"?>
<?cocoon-process type="xslt"?>

<!-- 

  each faq is a collection of entries.  Entries are a paired question and
  answer, along with a set of keywords.  Questions and answers are delimited
  with <p> or <pre> tags.

  <entry>
    <keywords>SGI, endian</keywords>
    <question>
      <p>
        ...
      </p>
      ...
    </question>
    <answer>
      <p>
        ...
      </p>
      ...
    </answer>
  </entry>
          

-->

<faq name="Technical FAQ">
  <description>
    <p>
      For problems with building the thirdparty software or SCIRun, or 
      for problems such as crashes during runtime such as SIGSEGV or SIGABRT.
    </p>
  </description>
  <entry>
    <keywords>SGI, runtime, pthreads, SIGABRT</keywords>
    <question>
      <p>
        I successfully installed SCIRun and it's required thirdparty software
        (by hand) onto an SGI target install machine, but when I run SCIRun it 
        immediately signals an abort (SIGABRT).
      </p>
      <p>
        The output of SCIRun after it signals the abort looks like this:
      </p>
      <pre>
        Thread "main"(pid 251775) caught signal SIGABRT (Abort)
        Backtrace:
        0x5ff69224: SCIRun::Thread::niceAbort(void)
        0x5ff7106c: handle_abort_signals
        0xc37f7c0: sig_fixup_mask
        0xfb11100: prctl
        0xc37ee00: pthread_kill
        0xc37fef8: _SGIPT_libc_raise
        0xc378068: ptctl
        0xfaf3e20: raise
        0xfa668a4: abort
        0xae40958: terminate(void)
        0xae40788: __call_terminate
        0xae42ba8: __throw
        0x5ff72ad0: SCIRun::Thread::os_start(bool)
        0x5ff68c7c: SCIRun::Thread::Thread(SCIRun::Runnable*,const
        char*,SCIRun::ThreadGroup*,SCIRun::Thread::ActiveState)
        0x100057c4: main
        251775: main (state=running)
 
        Abort signalled by pid: 251775
        Occured for thread:
        "main"resume(r)/dbx(d)/cvd(c)/kill thread(k)/exit(e)?
      </pre>
    </question>
    <answer>
      <p>
        One or more of the thirdparty libraries was configured and built to
        use (i.e. link against) pthreads.  On SGI machines, SCIRun uses sproc
        threads instead of pthreads.  It is illegal to use both sproc and 
        pthreads in a single process.  When two binaries are linked together
        into a single process at runtime (e.g. scirun and libxerces-c1_4.so)
        an abort is signalled and the process is shutdown.
      </p>
      <p>
        The solution is to rebuild the offending libraries, configuring them
        to _not_ use threads.  Xerces is typically the offending library, 
        although Tcl and others may also be incorrectly configured to use
        threads.  See the <a href="../InstallGuide/ThirdpartyInfo.html">Thirdparty
        Software Installation and Build Information</a> for recommended
	configure arguments for the thirdparty software.  Note that when the
	automatic install script is used, all the software is automatically
        configured and built correctly.
      </p>
    </answer>
  </entry>

  <entry>
    <keywords>Compile, Red Hat, Mandrake, GCC 2.96, GCC 2.97</keywords> 
    <question>
      <p>
        I successfully installed the thirdparty software onto a Redhat or
        Mandrake (v8.0 +) linux target install machine, but when I try
        to build SCIRun it fails while compiling.
      </p>
    </question>
    <answer>
      <p>
        Some linux distributions are shipped with a version of the GCC
        compiler (e.g. 2.96, 2.97) that doesn't work for building SCIRun. 
        For more information, please visit
        <a href="http://www.gnu.org/software/gcc/gcc-2.96.html">the GCC site
        </a> regarding this problem.
      </p>
      <p>
        The solution is to update your compiler to version 2.95.2 or 2.95.3.
        You can check your existing compilers version by typing:
      </p>
      <pre>
        gcc --version
       
        or
  
        g++ --version
      </pre>
    </answer>
  </entry>

  <entry>
    <keywords>SGI, LANG:std, MIPSpro</keywords>
    <question>
      <p>
	I successfully installed the thirdparty software onto an SGI
        target install machine, but when I try to build SCIRun it fails
        during the compile phase.
      </p>
      <p>
        The error message displayed contains the following warning:
      </p>
      <pre>
        ...
        Warning: Option 'std' not in group 'LANG' (LANG:std)
        ...
      </pre>
    </question>
    <answer>
      <p>
        The MIPSpro compiler on your target install machine is too old.
        SCIRun requires version 7.3.1.1m at a minimum.
      </p>
    </answer>
  </entry>
</faq>
