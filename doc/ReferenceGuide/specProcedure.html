<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.7 [en] (X11; I; Linux 2.2.14-mc-smp i686) [Netscape]">
   <meta name="Author" content="Martin Cole">
   <link rel=stylesheet type="text/css" href="http://www.sci.utah.edu/scirun_docs/doc/doc_styles.css">
   <title>Specification Procedure</title>
<!-- Changed by: TjD, 18-Jul-2000 -->
</head>
<body>

<!- THE SCI LOGO ->
<a href="http://www.sci.utah.edu"><img style="margin-left:-2em"
   src="/images/SCI_logo.gif" border="0" hspace="10" height="66" 
   width="150"></a>

<!- TITLE OF PAGE ->
<p class="title">Module Design/Implementation Procedure</p>
<p class="subtitle">(Updated: Wed Sep 20 22:03:01 MDT 2000)</p>

<p class="firstpara">Every module will have an associated specifications file associated
with it.&nbsp; This file will be &lt;<i>ModuleName</i>>.xml. This document
describes the module writing procedure that we are encouraging every module
writer to follow.&nbsp; The complete set of documentation for a module
live in the code itself and in the specification file. Typically a module
has a .cc file and a .xml file.</p>

<p class="head">Table of contents</p>
<ol class="toc">
<li>
<a href="#chalk talk">chalk talk</a></li>

<li>
<a href="#spec">design spec</a></li>

<li>
<a href="#module maker">module maker</a></li>

<li>
<a href="#coding">coding</a></li>

<li>
<a href="#testing">testing</a></li>

<li>
<a href="#final pass">final pass over the specification</a></li>

<li>
<a href="#code submission">code submission</a></li>
</ol>


<p>Following the above steps will ensure a consistent well documented set
of modules for researchers to work with. A module is not just the execute
method.
<p class="head"><a NAME="chalk talk"></a>Chalk Talk</p>
<p class="firstpara">Prior to anything else, it would be ideal if you bounce your module
idea off of some of your peers. Talk to at least two other module
developers about your design. This could help in many different ways. It
could save you from doing it at all, or dramatically reduce your effort,
by exposing previously written code.&nbsp; It can solidify your design
idea, or enhance it. These do not have to be long discussions, but they
need to be long enough to get the design across, and allow for feedback.</p>

<p class="head"><a NAME="spec"></a>Create Specification</p>
<p class="firstpara">This specification is an xml file whose structure is defined by component.dtd. This file will contain information that the module maker will need to create the files for your module. It will contain all of the high level documentation about the module.</p>

<p class="nextpara">Documentation for all modules will be extracted from the collection of these files. This document will live side by side in our tree with the modules .cc file. It will need to be kept current just as the .cc needs to be current. Familiarize yourself with the more detailed description of the structure of the file and its contents. If your module has a gui, you will need to get a screen capture of the dialog, and place in ./doc/&lt;<i>ModuleName</i>>.gif.</p>

<p><a href="psgmlInEmacs.html">There is an xml-mode for emacs that is
useful.</a></p>

<p class="nextpara">The entire file need not be filled out at this point. In the design stages this document will help you to specify the target you are coding to. Start at the top and fill in as much as you know now. You should be now know which ports you will need for the module, so be sure to fill that part out fully. Module Maker will make use of this information.</p>

<p class="head"><a NAME="module maker"></a>Module Maker</p>
<p class="firstpara">You have a somewhat fleshed out specification at this point. Now you want to write the module. You will need to edit a number of files and create some more. Module Maker will automate this process for you.</p>

<p class="head"><a NAME="coding"></a>Coding</p>
<p class="firstpara">Familiarize yourself with the coding standard. Follow it. If you use emacs, there are tools to make your coding standard efforts easy. Remember that the code you write will be public. Be sure that you can put your name in the author slot with pride. As you code you will make subtle changes to your design, be sure to frequent your specification.xml file and update it. Be sure that you have removed all warnings, and have a clean compile.</p>

<p class="head"><a NAME="testing"></a>Testing Your Module</p>
<p class="firstpara">Exercise your code. Make sure you force it down all possible code paths that you create, and that your module handles all possible input data that your input ports can provide. Crashing is bad. Doing nothing is bad. Handle errors appropriately. Be sure you test each widget in your gui.</p>

<p class="head"><a NAME="final pass"></a>Final Check of xml data</p>
<p class="firstpara">Your code works. You have made all the subtle changes to the code that the testing phase exposed, and it works as intended. Before you commit this code, take one last pass through the &lt;<i>ModuleName</i>>.xml file. Make sure all of your changes are reflected in it.</p>

<p class="head"><a NAME="code submission"></a>Code Submission</p>
<p class="firstpara">Update the repository. Commit the changes you made to the .h, .cc, .mk, tcl, and .xml files for this module. Add the files you created to the cvs repository. If you had to create the ./doc directory, you will also have to create it in the cvs source tree before checking in the files underneath it. <a href="cvs_info.html">checking things into cvs</a></p>

<br>&nbsp;
<br>&nbsp;
<ol>&nbsp;</ol>
An example module that has followed this procedure is ShowGeometry.
<br>&nbsp;

</body>
</html>
