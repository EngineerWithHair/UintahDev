
#include <config/sci.cf>

#ifdef SCI_MESA
OPENGLINCS = -I$(TOP)/Mesa/include -I/usr/openwin/include
OPENGLLIBS = -L$(TOP)/Mesa/lib -lMesaGLU -lMesaGL -lXext -lX11
#else
OPENGLINCS =
OPENGLLIBS = -lGLU -lGL -lXext -lX11
#endif

#ifndef SCI_OPENGL
OPENGLOBJS =
OPENGLSRCS = 
#endif

OBJS = BitVisualize.o  BoxClipSField.o BoundGrid.o \
	CuttingPlane.o FastRender.o    \
	GenAxes.o GenColorMap.o  GenFieldEdges.o GenTransferFunc.o  \
	Hedgehog.o  IsoMask.o  IsoSurface.o IsoSurfaceSP.o IsoSurfaceMRSG.o \
	OctIsoSurface.o   CuttingPlaneTex.o  \
	RescaleColorMap.o  Streamline.o  VectorSeg.o  VolVis.o   \
	WidgetTest.o AddWells.o FieldCage.o  AddWells2.o
SRCS = BitVisualize.cc BoxClipSField.cc BoundGrid.cc \
	CuttingPlane.cc FastRender.c    \
	GenAxes.cc GenColorMap.cc GenFieldEdges.cc GenTransferFunc.cc \
	Hedgehog.cc IsoMask.o  IsoSurface.cc IsoSurfaceSP.cc IsoSurfaceMRSG.cc\
	 OctIsoSurface.cc   CuttingPlaneTex.cc \
	RescaleColorMap.cc Streamline.cc VectorSeg.cc  VolVis.cc \
	WidgetTest.cc AddWells.cc FieldCage.cc AddWells2.cc

LIBNAME = Visualization

LOCALINCLUDES = $(OPENGLINCS)

SO_LIBS =
SO_LDFLAGS = -L$(TOP)/lib -lWidgets -lDatatypes -lDataflow -lGeom -lGeometry \
	-lTCL -lscitk -ltk -ltcl -lClasslib -lMultitask  $(OPENGLLIBS) \
	-lMalloc -lm -lC -lc

SCIDependTarget($(SRCS))
SCIObjLibraryTarget($(LIBNAME),$(OBJS),$(SO_LIBS),$(SO_LDFLAGS))

#ifdef SCI_MACHINE_SGI
#ifdef SCI_IRIX_BIN_o32
OPTLEVEL = -O2
#else
OPTLEVEL = -O3 -OPT:roundoff=3:div_split=ON:alias=typed:fast_exp=ON
#endif
OPTFLAGS = SCI_BinFlags -I$(TOP) $(OPTLEVEL)  -fullwarn
#else
OPTFLAGS = $(CFLAGS)
#endif

SUPEROPTFLAGS = 
FastRender.o: FastRender.c
	$(CC) $(OPTFLAGS) -c FastRender.c
