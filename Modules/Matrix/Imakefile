
#include <config/sci.cf>

#ifdef SCI_OPENGL
OPENGLOBJS = VisualizeMatrix.o
OPENGLSRCS = VisualizeMatrix.cc

#ifdef SCI_MESA
OPENGLINCS = -I$(TOP)/Mesa/include
OPENGLLIBS = -L$(TOP)/Mesa/lib -lMesaGLU -lMesaGL -lXext -lX11
#else
OPENGLINCS =
OPENGLLIBS = -lGLU -lGL -lXext -lX11
#endif
#else
OPENGLOBJS =
OPENGLSRCS = 
#endif

OBJS = EditMatrix.o  SolveMatrix.o  $(OPENGLOBJS)
SRCS = EditMatrix.cc SolveMatrix.cc $(OPENGLSRCS)

LIBNAME = Matrix

#ifdef SCI_SPARSELIB

SPARSELIB = sp1_5c

IML_LDFLAGS       = -L$(SPARSELIB)/lib -lsparse -lspblas -lmv -lm -lcomplex


IML_INCLUDE = $(SPARSELIB)/iml
MV_INCLUDE = $(SPARSELIB)/mv/include
SPARSELIB_INCLUDE = $(SPARSELIB)/include

IML_INCLUDES = -I$(IML_INCLUDE) -I$(MV_INCLUDE) -I$(SPARSELIB_INCLUDE)

LOCALCFLAGS = -DCOMPLEX=complex
LOCALCCFLAGS = -DCOMPLEX=complex

SCISubdirs($(SPARSELIB))

#endif

LOCALINCLUDES = $(OPENGLINCS) $(IML_INCLUDES)
SO_LIBS =
SO_LDFLAGS = -L$(TOP)/lib -lDatatypes -lDataflow -lGeom -lTCL -lClasslib \
	-lMultitask $(OPENGLLIBS) -lscitk -ltk -lMalloc $(IML_LDFLAGS) -lm -lC -lc

SCIDependTarget($(SRCS))
SCIObjLibraryTarget($(LIBNAME),$(OBJS),$(SO_LIBS),$(SO_LDFLAGS))
